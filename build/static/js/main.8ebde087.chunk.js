(this.webpackJsonpnoiseapp=this.webpackJsonpnoiseapp||[]).push([[0],{67:function(e,t,a){"use strict";a.r(t);var n,r,o=a(1),c=a.n(o),i=a(29),l=a.n(i),u=a(12),s=a(0),m=a(15),f=a(69),h=a(72),d=a(41),p=a(43),b=a(44),M=b.a.div(n||(n=Object(p.a)(["\n  background-color: black;\n  display: flex;\n  height: 100vh;\n  width: 100vw;\n"]))),E=b.a.h1(r||(r=Object(p.a)(["\n  color: white;\n  font-size: xx-small;\n"]))),O=a(71),g=function(e){var t=Object(o.useState)((function(){return e.map((function(e){var t=document.createElement("video");return t.src=e.url,t.crossOrigin="Anonymous",t.loop=!0,t.muted=!0,t}))}));return Object(u.a)(t,1)[0]},v=a(68),j=function(e){var t=e.news,a=e.pos;return c.a.createElement(v.a,{position:a},c.a.createElement(E,null,t))},w=2*Math.PI/10,y=[{url:"videos/Second-Clip.mp4"},{url:"videos/Thrid-Clip.mp4"}],S=function(){var e=g(y);console.log(e),Object(o.useEffect)((function(){e[0].play()}),[e]),Object(o.useEffect)((function(){e[1].play()}),[e]);var t=Object(o.useMemo)((function(){return new Array(e.length).fill().map((function(e,t){return[200*Math.cos(w*t),200*Math.sin(w*t),-400]}))}),[]);return c.a.createElement(c.a.Fragment,null,t.map((function(t,a){return c.a.createElement("mesh",{key:a,position:t,rotation:[0,-10,0]},c.a.createElement("boxBufferGeometry",{key:a,args:[192,108,0]}),c.a.createElement("meshBasicMaterial",null,c.a.createElement("videoTexture",{attach:"map",args:[e[a]||[0]],wrapS:s.ClampToEdgeWrapping})))})))},x=[{url:"videos/Main-Clip.mp4"}],A=Object(o.forwardRef)((function(e,t){var a=e.handleSelection,n=e.handleMouseHover,r=e.handleMouseOut,i=e.hover,l=e.blockHover,u=e.show,m=g(x);Object(o.useEffect)((function(){m[0].play()}),[m]);var f=Object(o.useMemo)((function(){return new Array(1).fill().map((function(){return[3-100*Math.random()/7,4*Math.random(),-50]}))}),[]),h=0!==Object.keys(i).length;return c.a.createElement(c.a.Fragment,null,c.a.createElement("group",null,f.map((function(e,o){return c.a.createElement("group",{ref:t[o],key:o,dispose:null,position:e,onClick:function(){return a(t[o])},onPointerOver:l?function(){return n(t[o])}:null,onPointerOut:l?function(){return r(t[o])}:null},h&&i.shp.id===t[o].current.uuid&&i.shp.hover?c.a.createElement(j,{news:t[o].current.uuid}):null,c.a.createElement("mesh",{scale:.4},c.a.createElement("boxBufferGeometry",{key:o,args:[19.2,10.8,10]}),c.a.createElement("meshBasicMaterial",null,c.a.createElement("videoTexture",{attach:"map",args:[m[o]||[0]],wrapS:s.MirroredRepeatWrapping}))))})),u?c.a.createElement(S,null):null))}));O.a.preload("/main_shard.glb");var k=A,C=a(70),P=a(28),F=new Array(400).fill().map((function(){return P[10][Math.floor(5*Math.random())]})),T=new s.Color,I=function(e){var t=e.count,a=void 0===t?200:t,n=e.sizes,r=Object(o.useRef)(),i=Object(o.useState)(),l=Object(u.a)(i,2),m=l[0],f=l[1],h=Object(o.useMemo)((function(){return Float32Array.from(new Array(400).fill().flatMap((function(e,t){return T.set(F[t]).toArray()})))}),[]);return Object(o.useLayoutEffect)((function(){for(var e=new s.Object3D,t=[],n=0;n<a;n++){var o=2*Math.PI*Math.random(),c=10*Math.random()*Math.cos(o)*1e3,i=5*Math.random()*Math.sin(o)*10;t.push(c,i,-500),e.position.set(c,i,-500),e.updateMatrix(),r.current.setMatrixAt(n,e.matrix),r.current.instanceMatrix.needsUpdate=!0}f(t)}),[a]),c.a.createElement("group",null,c.a.createElement("instancedMesh",{ref:r,args:[null,null,a],castShadow:!0,receiveShadow:!0},n.map((function(e,t){return c.a.createElement("boxGeometry",{key:t,args:e},c.a.createElement("instancedBufferAttribute",{attachObject:["attributes","color"],args:[h,3]}))})),c.a.createElement("meshPhongMaterial",{vertexColors:s.VertexColors})),m&&0!==m.length?c.a.createElement(C.a,{points:m,color:"white",lineWidth:.1}):null)},z=a(10),L=a(21),R=a(16),B=a(11);function D(){var e=Object(m.f)(),t=e.gl,a=e.scene,n=e.camera,r=e.size,c=Object(m.e)(B.x),i=Object(o.useMemo)((function(){var e=new B.k(t,{frameBufferType:s.HalfFloatType});e.addPass(new B.v(a,n));var r=Object(L.a)(B.w,Object(R.a)(c));r.colorEdgesMaterial.setEdgeDetectionThreshold(.1);var o=new B.s(a,n),i={blendFunction:B.a.MULTIPLY,samples:3,rings:4,distanceThreshold:.4,distanceFalloff:.5,rangeThreshold:.5,rangeFalloff:.01,luminanceInfluence:.6,radius:2,intensity:5,bias:.5},l=new B.z(n,o.renderTarget.texture,i),u=new B.z(n,o.renderTarget.texture,Object(z.a)(Object(z.a)({},i),{},{samples:21,radius:7,intensity:30,luminanceInfluence:.6,color:"red"})),m=new B.b({opacity:1,blendFunction:B.a.SCREEN,kernelSize:2,luminanceThreshold:.8,luminanceSmoothing:0}),f=new B.l(n,r,u,l,m);return f.renderToScreen=!0,e.addPass(o),e.addPass(f),e}),[]);return Object(o.useEffect)((function(){i.setSize(r.width,r.height)}),[r]),Object(m.d)((function(e,t){return i.render(t)}),1)}var G=function(){return c.a.createElement(o.Suspense,{fallback:null},c.a.createElement(D,null))},U=new Array(400).fill().map((function(){return P[10][Math.floor(5*Math.random())]})),H=new s.Color,N=function(e){var t=e.count,a=void 0===t?200:t,n=Object(o.useRef)(),r=Object(o.useMemo)((function(){return Float32Array.from(new Array(a).fill().flatMap((function(e,t){return H.set(U[t]).toArray()})))}),[]),i=Object(o.useMemo)((function(){var e=2*Math.PI;return new Array(a).fill().map((function(){return[50,2,Math.abs(40*Math.sin(e)*Math.random()*20)/10]}))}),[]);return Object(o.useEffect)((function(){for(var e=new s.Object3D,t=0;t<a;t++){var r=2*Math.PI*Math.random(),o=10*Math.random()*Math.cos(r)*1e3,c=5*Math.random()*Math.sin(r)*10;e.position.set(o,c,-500),e.updateMatrix(),n.current.setMatrixAt(t,e.matrix),n.current.instanceMatrix.needsUpdate=!0}}),[a]),c.a.createElement("instancedMesh",{ref:n,args:[null,null,a],castShadow:!0,receiveShadow:!0},i.map((function(e,t){return c.a.createElement("boxGeometry",{key:t,args:e},c.a.createElement("instancedBufferAttribute",{attachObject:["attributes","color"],args:[r,3]}))})),c.a.createElement("meshPhongMaterial",{vertexColors:s.VertexColors}))},V=new Array(400).fill().map((function(){return P[3][Math.floor(5*Math.random())]})),W=new s.Color,J=function(e){var t=e.count,a=void 0===t?100:t,n=Object(o.useRef)();console.log(n);var r=Object(o.useMemo)((function(){return Float32Array.from(new Array(400).fill().flatMap((function(e,t){return W.set(V[t]).toArray()})))}),[]),i=Object(o.useMemo)((function(){var e=2*Math.PI;return new Array(400).fill().map((function(){return[50,2,Math.abs(40*Math.sin(e)*Math.random()*20)/10]}))}),[]);return Object(o.useEffect)((function(){for(var e=new s.Object3D,t=0;t<a;t++){var r=2*Math.PI*Math.random(),o=10*Math.random()*Math.sin(r)*200,c=5*Math.random()*Math.cos(r)*100;e.position.set(o,c,-1e3),e.updateMatrix(),n.current.setMatrixAt(t,e.matrix),n.current.instanceMatrix.needsUpdate=!0}}),[a]),c.a.createElement("instancedMesh",{ref:n,args:[null,null,a],castShadow:!0,receiveShadow:!0},i.map((function(e,t){return c.a.createElement("boxGeometry",{key:t,args:e},c.a.createElement("instancedBufferAttribute",{attachObject:["attributes","color"],args:[r,3]}))})),c.a.createElement("meshPhongMaterial",{vertexColors:s.VertexColors}))},q=a(47),Y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(q.a,null,c.a.createElement(q.b,{active:!0,ratio:.05,delay:[.2,10],strength:[.03,.1],duration:[.2,.3],mode:B.n.SPORADIC})),c.a.createElement(v.a,{style:{color:"white",top:0,left:0}},c.a.createElement("h1",null,"Noise"),c.a.createElement("p",{style:{fontSize:"10px"}},"Noise is a three js app looking at the removal of narrative techniques within new articles. A combination of the chaotic nature and noise that surrounds news daily")))},_=function(e){var t=e.imageURL,a=e.position,n=e.coverSelectSet,r=Object(m.e)(s.TextureLoader,[t]),i=Object(u.a)(r,1)[0],l=Object(o.useRef)(null),h=Object(o.useState)(!1),p=Object(u.a)(h,2),b=p[0],M=p[1],E=Object(o.useState)(!1),O=Object(u.a)(E,2),g=O[0],v=O[1],j=Object(d.useSpring)({scale:g?1.5:1});return Object(o.useEffect)((function(){n(b)}),[b]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d.animated.group,Object.assign({},j,{position:a,onClick:function(){return M(!b)},onPointerOver:function(){return v(!0)},onPointerOut:function(){return v(!1)}}),c.a.createElement("mesh",{scale:1,ref:l},c.a.createElement("planeGeometry",{args:[2.7,3.54,32,32]}),c.a.createElement("meshStandardMaterial",{color:"white",map:i,"map-minFilter":s.LinearFilter,transparent:!0,opacity:1,side:s.DoubleSide})),c.a.createElement(f.a,{scale:[3.24,1,1],rotation:[.75,0,0],position:[0,-2.5,0],opacity:.3})))},K=function(){var e=Object(o.useRef)();return c.a.createElement(h.a,{fov:75,position:[0,0,50],ref:e},c.a.createElement("meshBasicMaterial",null))},Q=function(e){var t=e.reset,a=e.mouse,n=new s.Vector3,r=Object(o.useState)(),i=Object(u.a)(r,2),l=i[0],f=i[1],h=Object(o.useState)(!1),d=Object(u.a)(h,2),p=d[0],b=d[1],M=Object(o.useState)({}),E=Object(u.a)(M,2),O=E[0],g=E[1],v=Object(o.useState)(!0),j=Object(u.a)(v,2),w=j[0],y=j[1],S=Object(o.useState)(!1),x=Object(u.a)(S,2),A=x[0],C=x[1];Object(o.useEffect)((function(){l&&(g(!1),y(!1))}),[l]);var P=Object(o.useState)([]),F=Object(u.a)(P,2),T=F[0],z=F[1];Object(o.useEffect)((function(){z((function(e){return Array(50).fill().map((function(t,a){return e[a]||Object(o.createRef)()}))}))}),[]);var L=Object(o.useMemo)((function(){var e=2*Math.PI*Math.random(),t=Math.acos(2*Math.random()-1);return new Array(400).fill().map((function(){return[Math.abs(40*Math.cos(e)*Math.sin(t)+(40*Math.random()-20)/1e3),Math.abs(40*Math.sin(e)*Math.sin(t)+(40*Math.random()-20)/2e3),Math.abs(40*Math.sin(e)*Math.random()*20)/10]}))}),[]);return Object(m.d)((function(e){var a=e.camera;t?a.position.lerp(n.set(0,0,0),.1):a.position.lerp(n.set(l?l.current.position.x:0,l?l.current.position.y:0,l?-30:0),.1)})),c.a.createElement(c.a.Fragment,null,c.a.createElement(o.Suspense,{fallback:null},c.a.createElement(K,null),c.a.createElement(J,{mouse:a}),A?c.a.createElement("group",null,c.a.createElement(k,{ref:T,handleSelection:function(e){f(e),b(!p)},handleMouseHover:function(e){g({shp:{id:e.current.uuid,hover:!0}})},handleMouseOut:function(e){g({shp:{id:e.current.uuid,hover:!1}})},hover:O,blockHover:w,show:p}),c.a.createElement(I,{sizes:L}),c.a.createElement(N,null)):c.a.createElement("group",{position:[0,0,0]},c.a.createElement(_,{imageURL:"Palestine-Israel.png",position:[0,0,-5],coverSelectSet:C}),c.a.createElement(Y,null))))},X=function(){var e=Object(o.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1];return c.a.createElement(M,null,c.a.createElement(m.a,{gl:{antialias:!0,alpha:!0},onCreated:function(e){e.gl.toneMapping=s.LinearToneMapping}},c.a.createElement("color",{attach:"background",args:["black"]}),c.a.createElement("directionalLight",{position:[50,50,25],angle:.3,intensity:2,castShadow:!0,"shadow-mapSize-width":64,"shadow-mapSize-height":64,"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),c.a.createElement("directionalLight",{position:[-10,-10,-5],intensity:.5}),c.a.createElement(Q,{position:[0,0,20],reset:a,resetSet:n}),c.a.createElement(G,null)))},Z=function(){return c.a.createElement("div",{className:"App"},c.a.createElement("p",{style:{position:"absolute",color:"white",zIndex:2,padding:"50px",fontSize:"10px"}},"Click the cover to start"),c.a.createElement(X,null))},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Z,null)),document.getElementById("root")),$()}},[[67,1,2]]]);
//# sourceMappingURL=main.8ebde087.chunk.js.map